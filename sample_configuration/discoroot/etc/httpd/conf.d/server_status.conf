#
# ExtendedStatus controls whether Apache will generate "full" status
# information (ExtendedStatus On) or just basic information (ExtendedStatus
# Off) when the "server-status" handler is called. The default is Off.
#
ExtendedStatus On

#
# Allow server status reports generated by mod_status,
# with the URL of http://127.0.0.1:3333/server-status
#
# How to view, 2 options:
#  * disco_ssh.sh to instance and execute:
#    curl http://localhost:3333/server-status
#  * Forward the ports to local machine
#    disco_ssh.sh ci discoinferenceservice0 3333
#
# Making all the pages accessible from our admin reverse proxy is
# damn near impossible. It'd need to know about all the hosts ever
# have a seperate URL path for each. Curling localhost or port forwarding
# will be the way to monitor these stats .. for now.
#
# Seperate vhost and port is used to ensure we don't acidentally expose
# this information to users.
#
Listen *:3333
<VirtualHost *:3333>
    <Location /server-status>
        SetHandler server-status
        Order allow,deny
        Allow from all
    </Location>
</VirtualHost>
